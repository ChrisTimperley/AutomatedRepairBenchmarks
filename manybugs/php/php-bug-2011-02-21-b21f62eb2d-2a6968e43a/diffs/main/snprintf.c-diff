680,683d679
< 				 *
< 				 * XXX: an unreasonable amount of precision may be specified
< 				 * resulting in overflow of num_buf. Currently we
< 				 * ignore this possibility.
696a693,696
> 					
> 					if (precision > FORMAT_CONV_MAX_PRECISION) {
> 						precision = FORMAT_CONV_MAX_PRECISION;
> 					}
